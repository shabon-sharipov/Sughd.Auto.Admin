@page "/AddCar"
@using Sughd.Auto.Admin.Services
@using Sughd.Auto.Admin.Services.RequestModels
@inject ICarService _carService
<MudStack Row>
    <MudCard>
        <MudCardContent>
            <MudText Align="Align.Center" Class="mb-n4">Car Registration</MudText>
            <MudForm>
                <MudTextField @bind-Value="model.VINCode"
                              For="@(() => model.VINCode)"
                              Immediate="true"
                              Label="VINCode"/>
                <MudTextField @bind-Value="model.DateOfPablisher"
                              For="@(() => model.DateOfPablisher)"
                              Immediate="true"
                              Label="Год выпуска"/>
                <MudTextField @bind-Value="model.Price"
                              For="@(() => model.Price)"
                              Immediate="true"
                              Label="Цена"/>
                <MudTextField @bind-Value="model.EngineCapacity"
                              For="@(() => model.EngineCapacity)"
                              Immediate="true"
                              Label="Оъем двигателя"/>
                <MudTextField @bind-Value="model.Mileage"
                              For="@(() => model.Mileage)"
                              Immediate="true"
                              Label="Пробег"/>
                <MudTextField @bind-Value="model.IsRastamogeno"
                              For="@(() => model.IsRastamogeno)"
                              Immediate="true"
                              Label="Растаможен в РТ"/>

                <MudTextField @bind-Value="model.FuelType"
                              For="@(() => model.FuelType)"
                              Immediate="true"
                              Label="Тип топлива"/>

                <MudTextField @bind-Value="model.IsActive"
                              For="@(() => model.IsActive)"
                              Immediate="true"
                              Label="Астиве"/>

                <MudTextField @bind-Value="model.Transmission"
                              For="@(() => model.Transmission)"
                              Immediate="true"
                              Label="Коробка Передача"/>
                <MudTextField @bind-Value="model.CarBody"
                              For="@(() => model.CarBody)"
                              Immediate="true"
                              Label="Кузов"/>

                <MudTextField @bind-Value="model.UserId"
                              For="@(() => model.UserId)"
                              Immediate="true"
                              Label="UserID"/>
                <MudTextField @bind-Value="model.MarkaId"
                              For="@(() => model.MarkaId)"
                              Immediate="true"
                              Label="MarkId"/>
                <MudTextField @bind-Value="model.ModelId"
                              For="@(() => model.ModelId)"
                              Immediate="true"
                              Label="ModelId"/>
            </MudForm>
            <MudCardActions>
                <MudButton
                    Variant="Variant.Filled"
                    Color="Color.Primary"
                    Class="ml-auto"
                    OnClick="@(async () => await SaveCar())">
                    Order
                </MudButton>
            </MudCardActions>
        </MudCardContent>
    </MudCard>
</MudStack>
@code{

    private CarRequestModel model = new CarRequestModel();

    private async Task SaveCar()
    {
        await _carService.Post(model);
    }

}